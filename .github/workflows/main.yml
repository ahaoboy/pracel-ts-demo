name: CI

on: [push]

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Run  build and test
      run: echo  build and test
    - name: Run a multi-line script
      run: |
         npm i
         npm run build
         npm run test
         
         
  pages:
    runs-on: ubuntu-latest
    needs: [build-and-test]
    steps:
    - uses: actions/checkout@v2
    - name: post pages
      run: echo post pages
    - name: Run a multi-line script
      run: |
         npm i
         npm run build
         npm run pages 
    - name: GitHub Pages
      uses: crazy-max/ghaction-github-pages@v1.3.0
      with:
        # GitHub repository where assets will be deployed (default current)
        # repo: # optional
        # Git branch where assets will be deployed
        # target_branch: # optional, default is gh-pages
        # Create incremental commit instead of doing push force
        # keep_history: # optional, default is false
        # Allow an empty commit to be created
        # allow_empty_commit: # optional, default is true
        # Build directory to deploy
        build_dir: pages
        # Commit author's name
        # committer_name: # optional
        # Commit author's email
        # committer_email: # optional
        # Commit message
        # commit_message: # optional
        # Write the given domain name to the CNAME file
        # fqdn: # optional   



